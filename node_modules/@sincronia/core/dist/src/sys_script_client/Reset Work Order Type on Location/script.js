"use strict";

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
  if (isLoading) {
    return;
  }

  if (newValue === 'space') {
    $j.get('/api/x_nuvo_mobile/property/dispatch/default_work_order_type').then(function (response) {
      g_form.setValue('work_order_type', response.result.value);
    });
  } else if (newValue === 'asset' && g_form.getValue('asset')) {
    $j.get("/api/x_nuvo_csd/dispatch/workOrderType/".concat(g_form.getValue('asset'))).then(function (response) {
      g_form.setValue('work_order_type', response.result);
    });
  } else {
    g_form.setValue('work_order_type', '');
  }
}